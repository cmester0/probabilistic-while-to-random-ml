\documentclass[11pt, leqno]{article}

\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[english]{babel}

\usepackage[left=20mm,right=20mm]{geometry}

\usepackage[hidelinks]{hyperref}

\usepackage{listings}

\lstdefinelanguage{rml}{
}

\lstdefinelanguage{pwhile}{
}

\author{Lasse Letager Hansen 201508114}
\date{\today}
\title{Technical report}

\newcommand{\set}[1]{\{#1\}}

\begin{document}

\maketitle

\section{Semantics}
\subsection{pWhile}
Defined for some context \set{ident : eqType} \set{mem : memType ident}. We have:
\begin{align*}
  \mathtt{cmd} &:= \mathtt{abort} \\
               &~~\mid \mathtt{skip} \\
               &~~\mid \mathtt{assign~\set{t}~name~expr} \\
               &~~\mid \mathtt{random~\set{t}~distr} \\
               &~~\mid \mathtt{cond~boolexp~cmd~cmd} \\
               &~~\mid \mathtt{while~expr~cmd} \\
               &~~\mid \mathtt{seqc~cmd~cmd}
  \\ \\
  \mathtt{(expr : T)} &:= \mathtt{var~\set{T}~vars} & \mathtt{expr~T} \\
               &~~\mid \mathtt{cst~\set{T}~value} & \mathtt{expr~T} \\
               &~~\mid \mathtt{prp~m} & \mathtt{expr~bool} \\
               &~~\mid \mathtt{app~\set{T~U}~(expr : T \rightarrow U)~(expr : T)} & \mathtt{expr~U}
  \\ \\
  \mathtt{vars} &\subseteq \Sigma^* \\
  \mathtt{value} &\in V
\end{align*}

\subsection{Rml}

\begin{align*}
\mathtt{Inductive~Rml : Type} &:= \mathtt{Var} : \mathbb{N} \rightarrow \mathtt{Rml} \\
&~~|~\mathtt{Const} : \forall~(A : \mathtt{Type}), A \rightarrow \mathtt{Rml} \\
&~~|~\mathtt{Let\_stm} : \mathbb{N} \rightarrow \mathtt{Rml} \rightarrow \mathtt{Rml} \rightarrow \mathtt{Rml} \\
&~~|~\mathtt{If\_stm} : \mathtt{Rml} \rightarrow \mathtt{Rml} \rightarrow \mathtt{Rml} \rightarrow \mathtt{Rml} \\
&~~|~\mathtt{App\_stm} : \mathtt{Type} \rightarrow \mathtt{Rml} \rightarrow \mathtt{Rml} \rightarrow \mathtt{Rml}. \\
\end{align*}

\section{Rml in Coq}

\subsection{Well Formed}
A Rml program is well formed when there are no variables not bound. So all consts are well formed, all variables are well formed if there is a binding for it in the environment. all let statements are well formed, if what is being assigned is well formed under the current environment, and what it is binded in is well formed under the current environment extended with the new bounded variable. All if and app statements are well formed, if each subexpression is well formed in the current environment.

\subsection{Replace var with value}
Given a Rml expression, we can substitute the value of a variable for the expression by induction. This may still leave \(\mathtt{Var}~n\) expressions.

\subsection{sRml}


\end{document}
